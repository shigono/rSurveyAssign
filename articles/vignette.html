<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rSurveyAssign">
<title>rSurveyAssign: tools for simulation of assignment in web surveys • rSurveyAssign</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="rSurveyAssign: tools for simulation of assignment in web surveys">
<meta property="og:description" content="rSurveyAssign">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rSurveyAssign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/vignette.html">Get Started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/vignette_assign.html">1. How to assign subjects</a>
    <a class="dropdown-item" href="../articles/vignette_size.html">2. How to forecast sample size</a>
    <a class="dropdown-item" href="../articles/vignette_bias.html">3. How to estimate bias</a>
    <a class="dropdown-item" href="../articles/vignette_weight.html">4. How to compute survey weights</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>rSurveyAssign: tools for simulation of assignment in web surveys</h1>
                        <h4 data-toc-skip class="author">Shigeru
ONO</h4>
            
            <h4 data-toc-skip class="date">2024-05-22</h4>
      
      
      <div class="d-none name"><code>vignette.Rmd</code></div>
    </div>

    
    
<p><code>rSurveyAssign</code>パッケージは、web調査における対象者割付についてのシミュレーションを行うためのパッケージです。</p>
<p>このパッケージを使うと、ある種の対象者割付を行うweb調査について、必要な標本サイズを見積もったり、割付によって生じるバイアスを評価したりすることができます。また、すでに行った調査について、集計時にバイアスを取り除くためのウェイトを求めることもできます。</p>
<p>ここでは、<code>rSurveyAssign</code>パッケージの背後にある考え方と、パッケージの用途について説明します。</p>
<div class="section level2">
<h2 id="このパッケージが想定する調査">1. このパッケージが想定する調査<a class="anchor" aria-label="anchor" href="#%E3%81%93%E3%81%AE%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%8C%E6%83%B3%E5%AE%9A%E3%81%99%E3%82%8B%E8%AA%BF%E6%9F%BB"></a>
</h2>
<p>調査においては、調査対象者を異なる設問や提示物に配分することがあります。
以下ではこれを対象者の「<strong>割付</strong>」と呼びます。また、提示物や設問を
「<strong>刺激</strong>」と呼びます。</p>
<p>このパッケージは、次の４つの要件を持つ調査のためのパッケージです。</p>
<ol style="list-style-type: decimal">
<li>刺激ごとに割付可能な対象者が定義されており、それらの人々からから回答を集めたい</li>
<li>対象者を割り付ける刺激の数に上限を設けたい</li>
<li>各刺激について、目標とする割付人数を達成したい</li>
<li>調査対象者数をできるだけ減らしたい</li>
</ol>
<div class="section level3">
<h3 id="事例-ブランドイメージ調査">1.1 事例: ブランド・イメージ調査<a class="anchor" aria-label="anchor" href="#%E4%BA%8B%E4%BE%8B-%E3%83%96%E3%83%A9%E3%83%B3%E3%83%89%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8%E8%AA%BF%E6%9F%BB"></a>
</h3>
<p>上記の４つの要件を持つ調査は、web調査の実務において数多く見られます。
説明のため、もっともわかりやすい例を挙げましょう。</p>
<p>ある製品カテゴリにおける10個のブランドについて、消費者が抱いているイメージを
調べたいと思います。</p>
<ol style="list-style-type: decimal">
<li>あるブランドのイメージを聴取する対象者は、そのブランドを知っている人であるとします。</li>
<li>調査負荷の観点から、ひとりの対象者に対して聴取できるブランドの数は2個までとしたいです。</li>
<li>各ブランドについて、少なくとも100人から回答を得たいです。</li>
<li>調査コストの観点から、調査対象者数をできるだけ減らしたいと思います。</li>
</ol>
<p>このブランド・イメージ調査の手続きについて考えてみましょう。</p>
<ul>
<li>
<strong>調査手続き1. すべてのブランドに割り付ける</strong>
<ul>
<li>対象者にあるひとつのブランドを提示し、そのブランドのイメージについて聴取します。
これを、10個すべてのブランドについて繰り返します。</li>
<li>この手続きでは、各対象者にその人の知らないブランドについても聴取することになりますし、
対象者はブランド・イメージについての回答を10回繰り返す事になります。
すなわち、要件1,2が満たされていません。</li>
</ul>
</li>
<li>
<strong>調査手続き2. 2個のブランドに割り付ける</strong>
<ul>
<li>それぞれの対象者について、その人に提示するブランドを2個選びます。
すなわち、対象者を2個のブランドに割り付けます。</li>
<li>対象者に割り付けられた2個のブランドのうちひとつを提示し、そのブランドのイメージを聴取します。
これを2個のブランドについて繰り返します。</li>
<li>この手続きでは、要件2は満たされましたが、要件1はいまだ満たされていません。</li>
</ul>
</li>
<li>
<strong>調査手続き3. 知っているすべてのブランドに割り付ける</strong>
<ul>
<li>それぞれの対象者に、10個のブランドのリストを提示し、知っているブランドはどれかを聴取します。
それぞれの対象者を、その人が知っているすべてのブランドに割り付けます。
いずれのブランドについても知らないと答えた人については聴取を終了します。</li>
<li>対象者に、割り付けられたブランドのうちひとつを提示し、そのブランドのイメージを聴取します。
これを、その人が割り付けられたすべてのブランド(=その人が知っているすべてのブランド)について繰り返します。</li>
<li>この手続きでは、要件1は満たされましたが、要件2が満たされていません。</li>
</ul>
</li>
<li>
<strong>調査手続き4.
知っているブランドのうち1個～2個に割り付ける</strong>
<ul>
<li>それぞれの対象者に、10個のブランドのリストを提示し、知っているブランドはどれかを聴取します。</li>
<li>それぞれの対象者を、その人が知っているブランドのうち1個～2個のブランドに割り付けます。
いずれのブランドについても知らないと答えた人については聴取を終了します。</li>
<li>割り付けられたブランドのうちひとつを提示し、
購入意向を聴取します。これを、割り付けられたブランドについて繰り返します。</li>
</ul>
</li>
</ul>
<p>こうして、要件1, 2を同時に満たす調査手続きにたどり着きました。</p>
<p>このように、対象者の回答(各ブランドを知っているかどうか)に応じてその後の設問を変更する手続きは、古典的な質問紙調査では困難でした。web調査ならではの調査手続きといえるでしょう。</p>
</div>
<div class="section level3">
<h3 id="調査手続きの性質">1.2 調査手続きの性質<a class="anchor" aria-label="anchor" href="#%E8%AA%BF%E6%9F%BB%E6%89%8B%E7%B6%9A%E3%81%8D%E3%81%AE%E6%80%A7%E8%B3%AA"></a>
</h3>
<p>調査手続き4.は、いっけん良い手続きのようにみえます。しかしこの手続きは、次の2つの深刻な問題点を持っています。</p>
<ul>
<li>必要な対象者数がわからない</li>
<li>回答の集計値がバイアスを持つ</li>
</ul>
<div class="section level4">
<h4 id="問題点1--必要な対象者数がわからない">問題点1. 必要な対象者数がわからない<a class="anchor" aria-label="anchor" href="#%E5%95%8F%E9%A1%8C%E7%82%B91--%E5%BF%85%E8%A6%81%E3%81%AA%E5%AF%BE%E8%B1%A1%E8%80%85%E6%95%B0%E3%81%8C%E3%82%8F%E3%81%8B%E3%82%89%E3%81%AA%E3%81%84"></a>
</h4>
<p>それぞれのブランドについて、目標とする件数の回答を集めたとき(要件3を満たしたとき)、
どの程度の対象者数が必要でしょうか。</p>
<ul>
<li>調査手続き1.では、<span class="math inline">\(N\)</span>人の対象者に調査すれば、各ブランドについて<span class="math inline">\(N\)</span>件の回答が得られます。</li>
<li>調査手続き2.では、<span class="math inline">\(N\)</span>人の対象者に調査すれば、全ブランドを通じて延べ
<span class="math inline">\(N \times L\)</span>
件の回答が得られます。ブランドへの割付をバランス良く行えば、各ブランドについて
<span class="math inline">\((N \times L) / K\)</span>
件の回答が得られるはずです。</li>
<li>調査手続き3.では、対象者があるブランドについて知っている割合を<span class="math inline">\(P\)</span>としたとき、そのブランドについて <span class="math inline">\(N \times P\)</span>
件の回答が得られます。事前に別の情報源から <span class="math inline">\(P\)</span>
を推測できれば、十分な件数の回答を得るために必要な対象者数を逆算することができるでしょう。</li>
<li>しかし調査手続き4.では、各ブランドについて何件の回答が得られるかを事前に推測することが困難です。</li>
</ul>
</div>
<div class="section level4">
<h4 id="問題点2--回答の集計値がバイアスを持つ">問題点2. 回答の集計値がバイアスを持つ<a class="anchor" aria-label="anchor" href="#%E5%95%8F%E9%A1%8C%E7%82%B92--%E5%9B%9E%E7%AD%94%E3%81%AE%E9%9B%86%E8%A8%88%E5%80%A4%E3%81%8C%E3%83%90%E3%82%A4%E3%82%A2%E3%82%B9%E3%82%92%E6%8C%81%E3%81%A4"></a>
</h4>
<p>調査手続き4.によって得た回答がどのような性質を持つか、簡単な例を通じて考えてみましょう。</p>
<p>調査対象のブランドを{a,b,c}の3つとしましょう。aについて知っている対象者に注目すると、
対象者たちは下表の4種類に分かれます。</p>
<table class="table">
<thead><tr class="header">
<th align="left">aについて</th>
<th align="left">bについて</th>
<th align="left">cについて</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">知っている</td>
<td align="left">知らない</td>
<td align="left">知らない</td>
</tr>
<tr class="even">
<td align="left">知っている</td>
<td align="left">知っている</td>
<td align="left">知らない</td>
</tr>
<tr class="odd">
<td align="left">知っている</td>
<td align="left">知らない</td>
<td align="left">知っている</td>
</tr>
<tr class="even">
<td align="left">知っている</td>
<td align="left">知っている</td>
<td align="left">知っている</td>
</tr>
</tbody>
</table>
<p>調査手続き4.による調査を想定します。
各対象者の割付ブランド数の最大値を2としたとき、aについて知っている人が
aに割り付けられる確率はどうなるでしょうか。</p>
<p>仮に、割付ブランドをその対象者が知っているブランドのなかから等確率に選ぶとすると、
下表となります。</p>
<table class="table">
<thead><tr class="header">
<th align="left">aについて</th>
<th align="left">bについて</th>
<th align="left">cについて</th>
<th align="left">aに割り付けられる確率</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">知っている</td>
<td align="left">知らない</td>
<td align="left">知らない</td>
<td align="left"><span class="math inline">\(1\)</span></td>
</tr>
<tr class="even">
<td align="left">知っている</td>
<td align="left">知っている</td>
<td align="left">知らない</td>
<td align="left"><span class="math inline">\(1\)</span></td>
</tr>
<tr class="odd">
<td align="left">知っている</td>
<td align="left">知らない</td>
<td align="left">知っている</td>
<td align="left"><span class="math inline">\(1\)</span></td>
</tr>
<tr class="even">
<td align="left">知っている</td>
<td align="left">知っている</td>
<td align="left">知っている</td>
<td align="left"><span class="math inline">\(2/3\)</span></td>
</tr>
</tbody>
</table>
<p>a以外のブランド(bとc)のうち、知っているブランドの個数が0から1の人は、
必ずaに割り付けられます。
いっぽう、個数が2の人(a,b,cのすべてを知っている人)がaに割り付けられる確率は<span class="math inline">\(2/3\)</span> しかありません。</p>
<p>従って、この調査手続きで集めたaについての回答は、aについて知っている人々のうち、
他のブランドを知らない人々の回答へと偏ることになります。</p>
<p>多くの場合、あるブランドについての知識や態度は、
その製品カテゴリの他のブランドについて知っている程度と関連しているでしょう。
たとえば、ブランドaに対する購入意向が、
他に多くのブランドを知っているほど低いとしましょう。
このとき、ブランドaの購入意向の回答は高めに偏ることになります。</p>
<p>このような、割付に起因する集計値の偏りを<strong>割付バイアス</strong>と呼ぶことにします。</p>
<p>割付バイアスの大きさは、各ブランドが知られている程度や
割付ブランドの選び方によって複雑に変化します。そのため、推測するのは容易ではありません。</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="このパッケージの目的">2 このパッケージの目的<a class="anchor" aria-label="anchor" href="#%E3%81%93%E3%81%AE%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E3%81%AE%E7%9B%AE%E7%9A%84"></a>
</h2>
<p>調査対象者に刺激を提示し反応を測定したい一方、個々の対象者に提示できる刺激に制約があるという場面は、調査実務において珍しくありません。回答負荷や調査コストの削減のため、上記の調査手続き4.のような工夫をする場合も多いでしょう。その反面、このような工夫によって、事前の標本サイズ設計は困難になり、調査結果は割付バイアスを持ちます。</p>
<p><code>rSurveyAssign</code>パッケージはこの問題に対処するためのパッケージです。</p>
<p>このパッケージでは、冒頭に挙げた4つの要件を持つ調査を想定し、
さまざまな割付方法について検討することができます。
このパッケージがカバーしている 割付方法の範囲について、<a href="vignette_assign.html">“1. How to assign
subjects”</a>を参照して下さい。</p>
<p>このパッケージの用途は次の3つです。</p>
<ul>
<li>
<strong>標本サイズ推定</strong>
<ul>
<li>上記の手続きによる調査を<strong>計画しているとき</strong>、
各刺激について必要な回答件数を得るためにはどの程度の調査対象者数が必要かを推定する。</li>
<li>使用方法は<a href="vignette_size.html">“2. How to forecast sample
size”</a>を参照して下さい。</li>
</ul>
</li>
<li>
<strong>バイアス評価</strong>
<ul>
<li>上記の手続きによる調査を<strong>計画しているとき</strong>、
調査結果が持つであろうバイアスを評価する。</li>
<li>使用方法は<a href="vignette_bias.html">“3. How to estimate
bias”</a>を参照して下さい。</li>
</ul>
</li>
<li>
<strong>ウェイト算出</strong>
<ul>
<li>上記の手続きによる調査を<strong>行ったあとで</strong>、
集計のためのウェイトを算出する。</li>
<li>使用方法は<a href="vignette_weight.html">“4. How to compute survey
weights”</a>を参照して下さい。</li>
</ul>
</li>
</ul>
<p>なお、このパッケージはweb調査の機能を提供するものではありません。
web調査の実施時に対象者を刺激へと割り付ける機能は、web調査システム上で別途実装する必要があります。</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://elsur.jpn.org/" class="external-link">Shigeru ONO</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
